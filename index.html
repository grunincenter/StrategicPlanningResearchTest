<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grunin Center Research Data Viewer</title>
    
    <!-- Load Tailwind CSS for modern styling -->
    <script src="[https://cdn.tailwindcss.com](https://cdn.tailwindcss.com)"></script>
    
    <!-- Load Brand Fonts: Montserrat (Sans for headers) and Frank Ruhl Libre (Serif for body) -->
    <link rel="preconnect" href="[https://fonts.googleapis.com](https://fonts.googleapis.com)">
    <link rel="preconnect" href="[https://fonts.gstatic.com](https://fonts.gstatic.com)" crossorigin>
    <link href="[https://fonts.googleapis.com/css2?family=Frank+Ruhl+Libre:wght@300;400;500;700&family=Montserrat:wght@300;400;500;600;700;800&display=swap](https://fonts.googleapis.com/css2?family=Frank+Ruhl+Libre:wght@300;400;500;700&family=Montserrat:wght@300;400;500;600;700;800&display=swap)" rel="stylesheet">
    
    <script>
        // --- Tailwind Configuration ---
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'], // Headers/UI
                        serif: ['"Frank Ruhl Libre"', 'serif'], // Body Text
                    },
                    colors: {
                        grunin: {
                            blue: '#00abce',
                            green: '#73a535',
                            brown: '#925333',
                            deep_violet: '#330662',
                        },
                        nyu: {
                            violet: '#57068c', // Primary Header/Accent
                            light_gray: '#f2f2f2',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for tab transitions and modal */
        body {
            background-color: #f2f2f2; 
        }
        .dashboard-container {
            border-top: 8px solid #57068c; 
            min-height: 90vh;
        }
        .tab-button.active {
            border-bottom: 4px solid #00abce;
            font-weight: 700;
            color: #57068c;
        }
        .data-table-row {
            transition: background-color 0.15s ease;
        }
        .modal {
            transition: opacity 0.3s ease;
        }
        .modal.hidden {
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body class="font-serif">

    <div class="max-w-7xl mx-auto p-4 md:p-8 dashboard-container bg-white shadow-xl rounded-b-lg">
        
        <!-- Header & Branding -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10 pb-4 border-b border-grunin-blue">
            <div class="mb-4 md:mb-0">
                <h1 class="text-3xl font-sans font-bold leading-tight text-nyu-violet">
                    Competitive Research Data Explorer
                </h1>
                <h2 id="current-tab-subtitle" class="text-lg font-sans font-medium text-grunin-blue tracking-wider">
                    Short List of Competitive Institutions
                </h2>
            </div>
            <div class="text-right text-sm font-sans">
                <p class="font-bold uppercase tracking-widest text-grunin-deep_violet">Grunin Center for Law and Social Entrepreneurship</p>
                <p class="text-gray-500">NYU School of Law</p>
            </div>
        </div>

        <!-- Tabs -->
        <div class="flex border-b border-gray-300 mb-6">
            <button id="tab-shortlist" onclick="changeTab('shortList')" class="tab-button active px-4 py-3 text-lg font-sans font-medium text-nyu-violet transition duration-150 hover:bg-nyu-light_gray">
                Short List
            </button>
            <button id="tab-institutes" onclick="changeTab('institutes')" class="tab-button px-4 py-3 text-lg font-sans font-medium text-gray-500 transition duration-150 hover:bg-nyu-light_gray">
                Institutes, Centers, & Programs
            </button>
        </div>

        <!-- Search Control -->
        <input type="text" id="search-input" placeholder="Search the data..." 
               class="w-full p-3 mb-6 border-2 border-nyu-violet rounded-lg font-serif shadow-inner focus:ring-2 focus:ring-grunin-blue focus:border-grunin-blue transition duration-150"
               onkeyup="renderTable()">
        
        <!-- Data Table Container -->
        <div id="table-container" class="overflow-x-auto shadow-xl rounded-lg border border-gray-200">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-grunin-deep_violet text-white">
                    <tr id="table-header-row">
                        <!-- Headers injected here -->
                    </tr>
                </thead>
                <tbody id="data-table-body" class="bg-white divide-y divide-gray-100">
                    <!-- Data rows will be injected here -->
                </tbody>
            </table>
        </div>

        <div id="no-results" class="text-center py-12 text-xl font-serif text-gray-500 hidden">
            No results found for the current search.
        </div>
    </div>

    <!-- Detail Modal (Short List Drill Down) -->
    <div id="detail-modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-70" onclick="hideModal()">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
            <div class="p-6 md:p-8">
                <div class="flex justify-between items-start pb-4 border-b border-gray-200">
                    <h3 id="modal-institution-name" class="text-2xl font-sans font-bold text-nyu-violet">Institution Name</h3>
                    <button onclick="hideModal()" class="text-gray-500 hover:text-gray-700 text-3xl leading-none font-light">&times;</button>
                </div>

                <div class="mt-4">
                    <h4 class="text-lg font-sans font-semibold mb-3 text-grunin-deep_violet border-b border-grunin-blue/50 pb-1">Full Short List Assessment</h4>
                    <div id="modal-shortlist-detail" class="text-gray-700 space-y-3 font-serif mb-6"></div>
                    
                    <h4 class="text-lg font-sans font-semibold mb-3 text-grunin-deep_violet border-b border-grunin-blue/50 pb-1">Related Institutes, Centers, & Programs</h4>
                    <div id="modal-centers-detail" class="space-y-4">
                        <p class="text-gray-500 italic">Loading related center data...</p>
                    </div>
                </div>
            </div>
            <div class="p-4 bg-nyu-light_gray text-right rounded-b-lg">
                <button onclick="hideModal()" class="px-4 py-2 bg-nyu-violet text-white font-sans font-medium rounded-lg hover:bg-nyu-violet/80 transition duration-150">Close</button>
            </div>
        </div>
    </div>

    <script>
        // =================================================================================
        // *** Embedded Raw CSV Data (Self-Contained for GitHub Pages) ***
        // =================================================================================
        
        const RAW_CSV_DATA = {
            shortList: `,,,Evidence of Institutional Commitment,,,,,,,,,,,,\r
Institution,Institution Descriptions,Centers and Clinics,"Relevant Centers, Institutes, & Programs",Recurring symposia,Relevant clinic clients,,,,,,,, ,,\r
Albany Law School,,"Community Economic Development Clinic\n\nInnovation and Entrepreneurship",TRUE,FALSE,FALSE,,"Albany's Innovation and Entrepreneurship program has an ""Innovation and Entrepreneurship Pathway."" Within that pathway, students can choose a ""Social Entrepreneurship and Law"" concentration, although students are not required to choose a concentration.\n\nAlbany also has a Community Economic Development Clinic (founded in 2016), which serves as a legal resource for individuals, startups, small businesses, nonprofits, and grassroots groups to increase access to transactional legal services, however the clinic site makes no mention of serving clients who are social entrepreneurs or operate as any of our secondary keywords. \n\n","Tied for #117 by US News\n\nThe ""Social Entreprenuership and Law"" concentration is part of a larger entrepreurship pathway, and no concentration is even required.\n\nInnovation and Entrepreneurship Program has broad focus (seems more interested in startups than social enterprises). \n\nClinic does not mention specifically that it takes on social enterprises as clients. \n\nDo we need to include Albany on the tiered short list? I think they've made an institutional commitment to entrepreneurship, but they haven't made that commitment to social en...",,,,,,,,,,,,\r
University of Arizona Law,,"Indigenous Governance Program (IGP)\n\nProgram in Law and Sustainability\n\nBusiness Law Program",FALSE,TRUE,FALSE,,"The Indigenous Governance Program is a joint venture between the Udall Center and the James E. Rogers College of Law. The IGP is a self-determination, self-governance, and nation-building program for Indigenous nations and communities. The IGP is focused on strengthening Native Nation sovereignty and their capacity to govern themselves effectively.\n\nThe Law and Sustainability program is a hub of innovative research, thought leadership and collaborative problem-solving for environmental sustainability issues.\n\nThe Business Law program is designed to create a vibrant environment for scholarly exchange and professional development in the area of business law.\n\n","Tied for #48 by US News.\n\nAll three programs address the secondary keyword sustainable development or broader business law that may be used by social enterprises. \n\nThe Indigenous Governance Program is particularly relevant to social entrepreneurship because it is focused on building sustainable communities. \n\nThe Law and Sustainability Program is focused on environmental issues, which is a core component of sustainable development. \n\nWe need to investigate the Business Law Program further to determine if it has a social enterprise focus.\n\nThe presence of three such programs suggests a strong institutional commitment to the general field. \n\nWe should include U Arizona on the tiered short list, likely at the 'some commitment' or 'substantial commitment' level.",,,,,,,,,,,,\r
Arizona State University--Sandra Day O'Connor College of Law,,"Global Law and Policy Program\n\nLaw and Sustainability",TRUE,FALSE,FALSE,,"The Global Law and Policy Program (GLPP) is focused on advancing global rule of law and good governance. It hosts events and courses that touch upon social entrepreneurship and impact investing.\n\nLaw and Sustainability at ASU Law is a hub of innovative research, thought leadership and collaborative problem-solving for environmental sustainability issues.\n\n","Tied for #27 by US News\n\nThe GLPP's focus on rule of law and good governance is broad, but some of its work intersects with social entrepreneurship.\n\nLaw and Sustainability program is a direct match for the secondary keyword sustainable development.\n\nWe should include ASU Law on the tiered short list, likely at the 'some commitment' level.",,,,,,,,,,,,\r
Boston College Law School,,"Program on Innovation and Entrepreneurship\n\nBoston College Law Review\n",TRUE,TRUE,FALSE,,"PIE harnesses faculty expertise and student energy to explore legal issues across IP, business law, tech, biotech, and social impact sectors. PIE sponsors speaker events, hosts the annual Law and Social Entrepreneurship Competition and provides networking opportunities for students. \n\nThe Boston College Law Review hosts symposia in the field of sustainable development and ESG.\n\n","Tied for #32 by US News\n\nPIE has a very explicit social impact focus, which includes the Law and Social Entrepreneurship Competition.\n\nLaw Review symposia suggest institutional commitment beyond a single program. \n\nWe should include Boston College on the tiered short list, likely at the 'substantial commitment' level.",,,,,,,,,,,,\r
University of California at Los Angeles (UCLA) School of Law,,"UCLA Law Lowell Milken Institute for Business Law and Policy (LMI)\n\nUCLA School of Law - Emmett Institute on Climate Change and the Environment\n\nUCLA School of Law - Ziffren Center for Media, Entertainment, Technology and Health Law",TRUE,TRUE,FALSE,,"The Lowell Milken Institute-Sandler Prize for New Entrepreneurs\n is a team business plan competition that recognizes student innovation and supports the real-world launch of promising new business ventures. The business can be a not-for-profit or public benefit. \n\nThe Emmett Institute on Climate Change and the Environment is dedicated to training the next generation of environmental leaders and to advancing law and policy solutions to the most pressing environmental challenges of our time. \n\nZiffren Center for Media, Entertainment, Technology and Health Law\n\n","Tied for #16 by US News.\n\nLMI has an explicit social enterprise focus through its competition.\n\nEmmett Institute is a direct match for the secondary keyword sustainable development.\n\nWe should include UCLA on the tiered short list, likely at the 'substantial commitment' level.",,,,,,,,,,,,\r
UC Berkeley Law ,,"Center for Law and Business\n\nBerkeley Center for Law & Technology (BCLT)\n\nBerkeley Law Center for Law, Energy & the Environment (CLEE)",TRUE,TRUE,TRUE,,"The Center for Law and Business hosts events and courses related to social entrepreneurship and impact investing. They offer an Executive Education program focused on ESG University: Sustainable Capitalism in Practice.\n\nBCLT also offers events that touch upon social entrepreneurship and impact investing.\n\nCLEE is focused on environmental issues, which is a core component of sustainable development. They also host events and courses related to ESG.\n\n","Tied for #10 by US News.\n\nAll three centers are highly ranked and have strong institutional commitment to the field. \n\nThe Executive Education program is a strong indicator of institutional commitment to sustainable development and ESG.\n\nWe should include Berkeley Law on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,\r
University of Chicago Law School,"The University of Chicago Law School and the Booth School of Business are partners in the Social New Venture Challenge (SNVC), which is a business plan competition for social enterprises. The SNVC has been running for over a decade and is a major component of the law school's social enterprise offerings.\n\n",FALSE,TRUE,FALSE,,"The SNVC is a joint venture between the law school and the Booth School of Business. The competition is open to all students, and the law school has had two law school-affiliated teams tie for second place in 2017. \n\n","Tied for #3 by US News. \n\nThe SNVC is a strong indicator of institutional commitment to social entrepreneurship. \n\nWe should include U Chicago on the tiered short list, likely at the 'substantial commitment' level.",,,,,,,,,,,,\r
Columbia Law School,,"Columbia Center on Sustainable Investment\n\nColumbia Entrepreneurship and Community Development Clinic\n",TRUE,TRUE,TRUE,,"The Columbia Center on Sustainable Investment (CCSI) is a joint program of Columbia Law School and the Earth Institute (now Columbia Climate School). CCSI conducts research, teaching, and policy work on the field of sustainable development and international investment law.\n\nThe Columbia Entrepreneurship and Community Development Clinic works with startups, social enterprises, and community groups. The clinic offers bi-weekly office hours with various incubators such as the Columbia Startup Lab.\n\n","Tied for #8 by US News.\n\nCCSI is a direct match for the secondary keyword sustainable development and is a major center for research in the field. \n\nThe Clinic has an explicit social enterprise focus and provides students with practical experience. \n\nWe should include Columbia on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,\r
Georgetown University Law Center,,"Georgetown Denny Center for Democratic Capitalism\n\nSocial Enterprise & Nonprofit Law Clinic\n\nTransactional Law Clinic Collaborative\n",TRUE,TRUE,TRUE,,"The Denny Center for Democratic Capitalism exists to reconcile the benefits of free market capitalism with the values and expectations of a democratic society. Its primary work is to evaluate the relative balance of economic performance and societal health and stability. They host symposia and events on related topics. \n\nThe Social Enterprise & Nonprofit Law Clinic provides transactional legal services to nonprofit organizations and social enterprises in the District of Columbia. \n\nThe Transactional Law Clinic Collaborative is a partnership with American University Washington College of Law that provides legal resources to small business and nonprofits in the DMV area.\n\n","Tied for #14 by US News.\n\nThe Denny Center's focus aligns with broader societal impact, and the clinic has a direct social enterprise focus. \n\nWe should include Georgetown on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,\r
Harvard Law School,,"Harvard Law School Program on Negotiation (PON)\n\nCenter for Law and the Environment (CLE)\n",TRUE,TRUE,TRUE,,"PON is focused on negotiation, mediation, and conflict resolution, which is highly relevant to social enterprise and impact investing.\n\nCLE is dedicated to environmental law and sustainable development. \n\nHarvard has a large number of clinics and programs that touch upon the field, though no single center is dedicated to social enterprise. \n\n","Tied for #5 by US News.\n\nWhile no single center is dedicated, the volume and quality of related programs suggests a strong commitment. \n\nWe should include Harvard on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,\r
Mitchell Hamline School of Law,"Mitchell Hamline's unique Center for Law and Business (CLAB) offers a Law and Business Certificate that is described as supporting a wide range of professional goals. The certificate is specifically noted as serving students interested in nonprofits and social enterprises, which directly aligns with the research focus. \n\nCLAB offers the opportunity for students to puruse the dual JD/MBA in partnership with Hamline University’s School of Business. \n\nStudents can also study abroad in the Kosovo's University of Pristina to explore economic development, legal reform, and post-conflict reconstruction alongside attorneys, judges, and entrepreneurs from across the region OR study in London's Greenwich University to gain access to an international community of attorneys working in law and business.\n\nCLAB also hosts the Ainsworth Memorial Award for Legal Innovation and Impact given to one outstanding student long paper completed through the Mitchell Hamline Law Review. The winner will receive a $500 cash prize, and the selected paper will be published in the Mitchell Hamline Law Review. The recipient will be chosen by members of the Law Review Editorial Board.",TRUE,TRUE,FALSE,,"Various courses and symposia on these events are available on the school's website.\n\nCLAB offers a Law and Business Certificate that is described as supporting a wide range of professional goals. The certificate is specifically noted as serving students interested in nonprofits and social enterprises, which directly aligns with the research focus.\n\nCLAB offers the opportunity for students to puruse the dual JD/MBA in partnership with Hamline University’s School of Business.\n\nStudents can also study abroad in the Kosovo's University of Pristina to explore economic development, legal reform, and post-conflict reconstruction alongside attorneys, judges, and entrepreneurs from across the region OR study in London's Greenwich University to gain access to an international community of attorneys working in law and business.\n\nCLAB also hosts the Ainsworth Memorial Award for Legal Innovation and Impact given to one outstanding student long paper completed through the Mitchell Hamline Law Review. The winner will receive a $500 cash prize, and the selected paper will be published in the Mitchell Hamline Law Review. The recipient will be chosen by members of the Law Review Editorial Board.","Tied for #144 by US News. \n\nWhile website mentions students are afforded the chance to work with social enterprises through CLAB, it's not clear where/how this happens.\n\n",Although there are programs that mention keywords the school is not ranked highly and the programs are not unique enough for us to merit further research. ,,,,,,\r
Northwestern Pritzker School of Law,,"Donald Pritzker Entrepreneurship Law Center\n\nNorthwestern Center on Law and Globalization\n",TRUE,TRUE,FALSE,,"The DPELC is one of the first comprehensive programs in the United States to provide intensive, hands-on training for students who want to be transactional lawyers or founders of start-up companies. The center explicitly includes social entrepreneurship as a focus area.\n\nThe Center on Law and Globalization hosts events and research related to sustainable development and global governance. \n\n","Tied for #10 by US News.\n\nDPELC has an explicit social entrepreneurship focus and provides students with practical experience. \n\nWe should include Northwestern on the tiered short list, likely at the 'substantial commitment' level.",,,,,,,,,,,,\r
University of Pennsylvania Carey Law School,,"Wharton Legal Studies Department\n\nPenn Law Transnational Legal Clinic\n",TRUE,TRUE,TRUE,,"Penn Law's collaboration with Wharton is a key strength. The Wharton Legal Studies Department hosts events and courses related to impact investing and social enterprise.\n\nThe Transnational Legal Clinic provides legal services to entrepreneurs and small businesses, some of which are social enterprises.\n\n","Tied for #7 by US News.\n\nThe Wharton partnership provides a unique advantage in the field. \n\nWe should include Penn Law on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,\r
University of Richmond School of Law,,"Carrico Center for Pro Bono and Public Service\n\nIntellectual Property and Innovation Law Program\n",FALSE,FALSE,FALSE,,"The Carrico Center for Pro Bono and Public Service hosts events and courses related to social justice and public service, which is a key component of social entrepreneurship. \n\nThe Intellectual Property and Innovation Law Program includes a focus on technology and innovation, which is relevant to social enterprises. \n\n","Tied for #56 by US News.\n\nWhile both programs are relevant, neither has a direct focus on social entrepreneurship, impact investing, or sustainable development. \n\nWe should include U Richmond on the tiered short list, likely at the 'some commitment' level.",,,,,,,,,,,,\r
University of Texas School of Law,,"Entrepreneurship and Community Development Clinic\n\nTexas Law Center on Sustainable Development and Global Governance\n",TRUE,TRUE,TRUE,,"The Entrepreneurship and Community Development Clinic provides transactional legal services to entrepreneurs and community groups, including social enterprises.\n\nTexas Law Center on Sustainable Development and Global Governance hosts events and research related to sustainable development and global governance.\n\n","Tied for #16 by US News.\n\nThe Clinic has an explicit social enterprise focus and provides students with practical experience. \n\nThe Center on Sustainable Development is a direct match for the secondary keyword sustainable development. \n\nWe should include UT Law on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,\r
Vanderbilt Law School,,"Turner Family Community Enterprise Clinic\n\nLaw and Business Program\n",TRUE,TRUE,FALSE,,"The Turner Family Community Enterprise Clinic provides transactional legal services to social enterprises and community groups. \n\nLaw and Business Program hosts events and courses related to impact investing and social enterprise.\n\n","Tied for #16 by US News.\n\nThe Clinic has an explicit social enterprise focus and provides students with practical experience. \n\nWe should include Vanderbilt on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,\r
Wake Forest University School of Law,,"Trade & Development Clinic\n\nLaw and Business Program\n",TRUE,FALSE,FALSE,,"The Trade & Development Clinic works with social enterprises and development organizations in the United States and Latin America related to business, corporate, transactional, and securities issues. \n\nLaw and Business Program hosts events and courses related to impact investing and social enterprise.\n\n","Tied for #32 by US News.\n\nThe Clinic has an explicit social enterprise focus and provides students with practical experience. \n\nWe should include Wake Forest on the tiered short list, likely at the 'substantial commitment' level.",,,,,,,,,,,,\r
Yale Law School,,"Yale Center for Environmental Law & Policy (YCELP)\n\nYale Entrepreneurship & Innovation Clinic\n",TRUE,TRUE,TRUE,,"YCELP is a joint program with the Yale School of Forestry & Environmental Studies. YCELP conducts research, teaching, and policy work on environmental law and sustainable development.\n\nThe Yale Entrepreneurship & Innovation Clinic often gives preference to ventures that have a positive impact on society or that push the boundaries of innovation.\n\n","Tied for #1 by US News.\n\nWhile the clinic's focus is slightly broader, the quality and reputation of the programs suggest a strong commitment. \n\nWe should include Yale on the tiered short list, likely at the 'strong commitment' level.",,,,,,,,,,,,`,
            
            institutes: `Institution,Center Name,Notes from Grunin Team,Appeared in 2017 Research\r
"Boston College Law School\n",Boston College Program on Innovation and Entrepreneurship,"Launched in 2017, PIE harnesses faculty expertise and student energy to explore legal issues across IP, business law, tech, biotech, and social impact sectors.",TRUE\r
Columbia Law School (in conjunction with Columbia Climate School),Columbia Center on Sustainable Investment,,TRUE\r
Georgetown University Law Center,Georgetown Denny Center for Democratic Capitalism,The Center exists to reconcile the benefits of free market capitalism with the values and expectations of a democratic society. Its primary work is to evaluate the relative balance of economic performance and societal health and stability.,TRUE\r
Albany Law School,Innovation and Entrepreneurship,"Through this program, students can take interdisciplinary classes with students and faculty from area schools, can engage with exciting internship opportunities in area firms and institutions active in the intellectual property field, and can partner with students and faculty from other institutions in business plan competitions.",FALSE\r
Arizona State University--Sandra Day O'Connor College of Law,Law and Sustainability,"Law and Sustainability at ASU Law is a hub of innovative research, thought leadership and collaborative problem-solving for environmental sustainability issues.",FALSE\r
"Benjamin N. Cardozo School of Law, Yeshiva University",The Samuel & Ronnie Heyman Center on Corporate Governance,The Heyman Center is focused on corporate governance and securities regulation. They host events and courses on these topics.,TRUE\r
Duke University School of Law,Bolch Judicial Institute,,FALSE\r
Emory University School of Law,Barton Child Law & Policy Center,The Barton Center is focused on child law and policy. They host events and courses on these topics.,FALSE\r
Fordham Law School,Center for Nonprofit and Community Development,The Center is focused on nonprofit and community development. They host events and courses on these topics.,FALSE\r
George Washington University Law School,Law and Social Justice Project,The Project is focused on law and social justice. They host events and courses on these topics.,FALSE\r
Harvard Law School,Center for Health Law and Policy Innovation,The Center for Health Law and Policy Innovation (CHLPI) is a clinical and academic program of Harvard Law School that advocates for legal, regulatory, and policy reforms to improve the health of vulnerable populations.,TRUE\r
Harvard Law School,Program on Negotiation (PON),PON is focused on negotiation, mediation, and conflict resolution.,TRUE\r
Mitchell Hamline School of Law,Center for Law and Business (CLAB),CLAB offers a Law and Business Certificate that is described as supporting a wide range of professional goals. The certificate is specifically noted as serving students interested in nonprofits and social enterprises, which directly aligns with the research focus.,TRUE\r
University of North Carolina at Chapel Hill School of Law,Center on Poverty, Work & Opportunity,The Center is focused on poverty, work, and opportunity. They host events and courses on these topics.,FALSE\r
Northwestern Pritzker School of Law,Donald Pritzker Entrepreneurship Law Center,The DPELC is one of the first comprehensive programs in the United States to provide intensive, hands-on training for students who want to be transactional lawyers or founders of start-up companies. The center explicitly includes social entrepreneurship as a focus area.,TRUE\r
University of Pennsylvania Carey Law School,Wharton Legal Studies Department,Penn Law's collaboration with Wharton is a key strength. The Wharton Legal Studies Department hosts events and courses related to impact investing and social enterprise.,TRUE\r
Santa Clara University School of Law,Center for Social Justice and Public Service,The Center is focused on social justice and public service. They host events and courses on these topics.,FALSE\r
Stanford Law School,Center for Legal Informatics (CodeX),CodeX is focused on legal informatics and technology. They host events and courses on these topics.,FALSE\r
University of Texas School of Law,Texas Law Center on Sustainable Development and Global Governance,,TRUE\r
Vanderbilt Law School,Law and Business Program,The Law and Business Program hosts events and courses related to impact investing and social enterprise.,TRUE\r
Vermont Law and Graduate School,Environmental Law Center,"The Environmental Law Center (ELC) oversees the most comprehensive graduate environmental law program in the country. Consistently ranked among the nation’s best by U.S. News & World Report, this environmental law program includes six legal clinics, seven centers and institutes, 60+ environmental law courses, and 76 environmental faculty.",FALSE\r
Northwestern Pritzker School of Law,Donald Pritzker Entrepreneurship Law Center,"The DPELC, ""originally founded as the Small Business Opportunity Center more than 20 years ago, is one of the first comprehensive programs in the United States to provide intensive, hands-on training for students who want to be transactional lawyers or founders of start-up companies.""",FALSE\r
New York University School of Law,Grunin Center for Law and Social Entrepreneurship,"""Launched in 2017, the Grunin Center for Law and Social Entrepreneurship is a global leader in the field of law and social entrepreneurship.""",FALSE\r
Howard University School of Law,ESG and Law Institute,"The only evidence I've found of this Institute is a 2022 article, however, there is no webpage for this program on the Howard University website.",FALSE`
        };

        const SHORT_LIST_COLUMNS_TO_DISPLAY = [
            'Institution', 
            'Institution Descriptions', 
            'Centers and Clinics', 
            'Relevant Centers, Institutes, & Programs', 
            'Recurring symposia',
            'Relevant clinic clients'
        ];
        const INSTITUTES_COLUMNS_TO_DISPLAY = [
            'Institution', 
            'Center Name', 
            'Notes from Grunin Team', 
            'Appeared in 2017 Research'
        ];

        // --- Global State ---
        let allData = { shortList: [], institutes: [] };
        let currentTab = 'shortList';
        let currentSortColumn = null;
        let currentSortDirection = 'asc';
        
        // --- Core Data Handling Functions ---

        /**
         * Simple CSV parser that handles header row and quote-encapsulated values.
         * @param {string} csv The raw CSV text.
         * @returns {Array<Object>} Array of objects representing the CSV rows.
         */
        function parseCSV(csv) {
            const lines = csv.split(/\r\n|\n/);
            if (lines.length < 1) return [];

            // Simple handling for the header row which contains messy commas
            const rawHeaders = lines[0].split(',');
            const headers = rawHeaders.map(h => h.trim().replace(/['"]+/g, '').replace(/[^a-zA-Z0-9_\s,]/g, '').trim());

            const data = [];
            for (let i = 1; i < lines.length; i++) {
                const line = lines[i];
                if (!line.trim()) continue;

                // Simple regex split for values, respecting quoted strings
                const values = line.match(/(?:\"([^\"]*(?:\"\"[^\"]*)*)\")|([^\,]+)/g);
                if (!values) continue;
                
                const row = {};
                for (let j = 0; j < headers.length && j < values.length; j++) {
                    let val = values[j];
                    if (val) {
                         val = val.trim();
                         // Clean up quotes and handle the empty trailing columns common in the short list file
                         if (val.startsWith('"') && val.endsWith('"')) {
                            val = val.substring(1, val.length - 1).replace(/""/g, '"');
                         }
                    } else {
                        val = '';
                    }

                    if (headers[j]) {
                         const key = headers[j];
                         row[key] = val;
                    }
                }
                data.push(row);
            }
            return data;
        }

        /**
         * Loads all data files by parsing the embedded strings.
         */
        function loadAllData() {
            try {
                // Parse the embedded raw strings
                const shortList = parseCSV(RAW_CSV_DATA.shortList);
                const institutes = parseCSV(RAW_CSV_DATA.institutes);
                
                // Filter out empty rows based on Institution name
                allData.shortList = shortList.filter(row => row.Institution); 
                allData.institutes = institutes.filter(row => row.Institution);
                
                // Initial render
                renderTable();

            } catch (error) {
                console.error('Fatal data parsing error:', error);
                document.getElementById('table-container').innerHTML = `<p class="mt-4 text-red-600 font-sans font-medium p-4 text-center">
                    Error loading data. A parsing error occurred. Check console for details.
                </p><p class="mt-2 text-sm text-red-400 p-4 text-center">Error: ${error.message}</p>`;
            }
        }

        // --- UI Logic Functions ---

        /**
         * Changes the active tab and re-renders the table.
         * @param {string} tabName 'shortList' or 'institutes'.
         */
        window.changeTab = function(tabName) {
            currentTab = tabName;
            
            // Update button visual state
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.remove('text-gray-500');
                if (btn.id === `tab-${tabName}`) {
                    btn.classList.add('active');
                    btn.classList.remove('text-gray-500');
                } else {
                    btn.classList.add('text-gray-500');
                }
            });
            
            // Update subtitle
            const subtitle = tabName === 'shortList' ? 'Short List of Competitive Institutions' : 'Institutes, Centers, & Programs Details';
            document.getElementById('current-tab-subtitle').textContent = subtitle;

            // Reset search input and sorting
            document.getElementById('search-input').value = '';
            currentSortColumn = null;
            currentSortDirection = 'asc';

            renderTable();
        }

        /**
         * Handles table sorting logic.
         * @param {string} column 
         */
        window.sortTable = function(column) {
            if (currentSortColumn === column) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                currentSortColumn = column;
                currentSortDirection = 'asc'; // Default sort to ascending for new column
            }
            renderTable();
        }

        /**
         * Renders the data table based on current state (tab, search, sort).
         */
        window.renderTable = function() {
            const data = allData[currentTab];
            const columns = currentTab === 'shortList' ? SHORT_LIST_COLUMNS_TO_DISPLAY : INSTITUTES_COLUMNS_TO_DISPLAY;
            const tableBody = document.getElementById('data-table-body');
            const tableHeaderRow = document.getElementById('table-header-row');
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            const noResults = document.getElementById('no-results');

            // 1. Filter Data
            let filteredData = data.filter(item => {
                const searchMatch = searchInput === '' || 
                    Object.values(item).some(value => 
                        String(value).toLowerCase().includes(searchInput)
                    );
                return searchMatch;
            });

            // 2. Sort Data
            if (currentSortColumn) {
                filteredData.sort((a, b) => {
                    const aVal = String(a[currentSortColumn] || '').toLowerCase();
                    const bVal = String(b[currentSortColumn] || '').toLowerCase();
                    let comparison = 0;

                    if (aVal > bVal) comparison = 1;
                    else if (aVal < bVal) comparison = -1;

                    return currentSortDirection === 'asc' ? comparison : comparison * -1;
                });
            }

            // 3. Render Headers
            tableHeaderRow.innerHTML = columns.map(col => {
                const isCurrentSort = col === currentSortColumn;
                const sortIndicator = isCurrentSort ? (currentSortDirection === 'asc' ? ' ▲' : ' ▼') : '';
                
                return `
                    <th onclick="sortTable('${col}')" class="cursor-pointer px-6 py-3 text-left text-xs font-sans font-bold uppercase tracking-wider hover:bg-nyu-violet transition duration-150 whitespace-nowrap">
                        ${col.replace(/_/g, ' ')} <span class="text-gray-400">${sortIndicator}</span>
                    </th>
                `;
            }).join('');
            
            // 4. Render Rows
            tableBody.innerHTML = '';
            if (filteredData.length === 0) {
                noResults.classList.remove('hidden');
            } else {
                noResults.classList.add('hidden');
            }

            filteredData.forEach(item => {
                const isShortList = currentTab === 'shortList';
                const rowClass = isShortList ? 'cursor-pointer data-table-row hover:bg-nyu-light_gray' : 'data-table-row';
                // Need to escape single quotes in the institution name for the JS function call
                const clickHandler = isShortList ? `onclick="showDetails('${item.Institution.replace(/'/g, "\\'")}')"` : '';
                
                const cells = columns.map(col => {
                    let content = item[col] || '';
                    if (isShortList && col === 'Institution') {
                         // Make the Institution link clearly look like a drill-down target
                         content = `<span class="font-bold text-grunin-deep_violet">${content}</span><span class="text-grunin-blue ml-2 font-sans font-medium text-xs">&rarr; View Details</span>`;
                    } else if (col === 'Appeared in 2017 Research') {
                        // Check for various casing of TRUE/FALSE
                        const status = String(content).trim().toUpperCase();
                        const statusText = status === 'TRUE' ? 'YES' : 'NO';
                        const statusClass = status === 'TRUE' ? 'bg-grunin-green text-white' : 'bg-grunin-brown/50 text-white';
                        content = `<span class="inline-block px-3 py-1 text-xs font-sans font-bold rounded-full ${statusClass}">${statusText}</span>`;
                    }
                    return `<td class="px-6 py-4 text-sm font-serif text-gray-700 align-top leading-relaxed">${content}</td>`;
                }).join('');

                const row = `<tr class="${rowClass}" ${clickHandler}>${cells}</tr>`;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }

        /**
         * Shows the detail modal for a Short List institution.
         * @param {string} institutionName 
         */
        window.showDetails = function(institutionName) {
            const primaryItem = allData.shortList.find(item => item.Institution === institutionName);
            const secondaryItems = allData.institutes.filter(item => item.Institution === institutionName);

            document.getElementById('modal-institution-name').textContent = institutionName;
            
            // --- 1. Populate Short List Detail ---
            const shortListDetailEl = document.getElementById('modal-shortlist-detail');
            shortListDetailEl.innerHTML = '';

            if (primaryItem) {
                // Loop through all relevant Short List columns for a detailed view
                SHORT_LIST_COLUMNS_TO_DISPLAY.forEach(key => {
                    if (key !== 'Institution') {
                        const value = primaryItem[key] || 'N/A';
                        shortListDetailEl.insertAdjacentHTML('beforeend', `
                            <div class="p-2 border-b border-gray-100">
                                <p class="font-sans font-semibold text-grunin-deep_violet text-sm uppercase">${key.replace(/_/g, ' ')}</p>
                                <p class="text-gray-700 whitespace-pre-wrap">${value}</p>
                            </div>
                        `);
                    }
                });
            }

            // --- 2. Populate Institutes & Centers Detail ---
            const centersDetailEl = document.getElementById('modal-centers-detail');
            centersDetailEl.innerHTML = '';

            if (secondaryItems.length > 0) {
                secondaryItems.forEach(detail => {
                    const appeared = detail['Appeared in 2017 Research'];
                    const status = String(appeared).trim().toUpperCase();
                    const appearedClass = status === 'TRUE' ? 'text-grunin-green font-bold' : 'text-grunin-brown/80 font-medium';
                    const detailHtml = `
                        <div class="border-b last:border-b-0 pb-3">
                            <p class="font-sans font-semibold text-gray-800">${detail['Center Name'] || 'Center Name N/A'}</p>
                            <p class="text-xs font-serif italic text-gray-600">${detail['Notes from Grunin Team'] || 'No notes available.'}</p>
                            <p class="text-xs font-sans mt-1 ${appearedClass}">
                                Research Status: ${status === 'TRUE' ? 'Mentioned in 2017 Research' : 'New/Updated Since 2017'}
                            </p>
                        </div>
                    `;
                    centersDetailEl.insertAdjacentHTML('beforeend', detailHtml);
                });
            } else {
                centersDetailEl.innerHTML = '<p class="text-gray-500 italic">No specific Institutes, Centers, or Programs found in the secondary dataset for this institution.</p>';
            }

            document.getElementById('detail-modal').classList.remove('hidden');
        }

        /**
         * Hides the detail modal.
         */
        window.hideModal = function() {
            document.getElementById('detail-modal').classList.add('hidden');
        }

        // --- Initialization ---

        document.addEventListener('DOMContentLoaded', () => {
            loadAllData();
        });
        
    </script>
</body>
</html>
